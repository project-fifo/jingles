<div class="tab-pane" id="users">
  <div class="pane-nav">
    <a href="#/configuration/users/new" class="btn btn-primary" translate>New User</a>
  </div>
  <div class="row-fluid">
    <div class="span12">
      <table class="table table-condensed table-hover" ng-show='users.length'>
        <thead>
          <tr>
            <th translate>User</th>
            <th translate>Roles</th>
            <th translate>Organizations</th>
          </tr>
        </thead>
        <tbody>
          <tr ng-repeat="u in users | filter:searchQuery | orderBy:'name'" ng-mouseover="$parent.highlight=u.roles">
            <td><a href="#/configuration/users/{{u.uuid}}">{{u.name}}</a></td>
            <td>
              <a style='padding-right: 5px' class='nocolor' ng-repeat='g in u._roles' href="#/configuration/roles/{{g.uuid}}">
                <span ng-class="{'text-danger': g.deleted}">{{g.name}}</span>
              </a>
            </td>
            <td>
              <a style='padding-right: 5px' class='nocolor' ng-repeat='o in u._orgs' href="#/configuration/organizations/{{o.uuid}}">
                <span ng-class="{'strong': o.uuid == u.org, 'text-danger': o.deleted}">{{o.name}}</span>
              </a>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>


<div class="tab-pane" id="roles">
  <div class="pane-nav">
    <a href="#/configuration/roles/new" class="btn btn-primary" permission=['cloud','roles','create']>
      <span translate>New Role</span>
    </a>
  </div>
  <div class="row-fluid">
    <div class="span12">
      <table class="table table-condensed table-hover" ng-show='roles.length'>
        <thead>
          <tr>
            <th translate>Role</th>
            <th translate>Permissions</th>
          </tr>
        </thead>
        <tbody>
          <tr ng-repeat="g in roles | filter:searchQuery | orderBy:'name'" ng-class="{'warning': highlight.indexOf(g.uuid) > -1}">
            <td><a ng-href="#/configuration/roles/{{g.uuid}}">{{g.name}}</a></td>
            <td>{{g.permissions.length}}</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>
